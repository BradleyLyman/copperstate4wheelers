---
import BaseLayout from "../layouts/BaseLayout.astro";

import { getCollection } from "astro:content";
const events = await getCollection("events");
events.sort((a, b) => a.data.date.valueOf() - b.data.date.valueOf());
---

<BaseLayout pageTitle="Index">
  <ul>
    {
      events.map((event) => (
        <li>
          <a href={`events/${event.id}`} data-astro-prefetch>
            {event.data.title} |{" "}
            {event.data.date.toLocaleDateString("en", {
              year: "numeric",
              month: "long",
              day: "numeric",
              weekday: "long",
            })}
          </a>
        </li>
      ))
    }
  </ul>
</BaseLayout>
